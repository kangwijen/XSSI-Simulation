<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Victim Cookie Generator</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
</head>
<body class="container mt-3">
    <div class="jumbotron text-center">
        <h1 class="display-4">Cookie Generator</h1>
        <p class="lead">This page generates a random cookie!</p>
    </div>

    <script src="static/cookie-script.js"></script>

    <div id="cookieValueDisplay"></div>
    <script>
        var yourCookieValue = window.cookieValue;
        document.getElementById("cookieValueDisplay").innerHTML = '<div class="d-flex justify-content-around align-items-center alert alert-info text-center" role="alert">Value of Your Cookie: <b>' + yourCookieValue + '</b> <button class="btn btn-success" onclick="generateNewCookie()">Generate New Cookie</button> </div>';
    </script>    

    <div class="mt-3">
        <h2 class="text-center">Explanation of this page</h2>
        <p>Cross-Site Script Inclusion (XSSI) poses a risk of exposing sensitive information across different origins (or domains). Such sensitive information may include authentication-related details like login states, cookies, authentication tokens, session IDs, and more. Additionally, it could involve personal or highly sensitive information such as email addresses, phone numbers, credit card details, and more. But how does this attack works?</p>
        <p>Imagine you visit a website, and within that website, there's a special component known as &lt;script&gt;. This component fetches things from another location on the internet. However, here's the problem: it fetches data from the same place where your regular website information is stored. This could result in private information being shared without permission. Typically, this is carried out using JavaScript.</p>
        <p>In this page, the website generates a random cookie value which then is stored by your browser. But the problem is, the cookie is saved by the JavaScript in a global variable. So when you visit the attacker page, the JavaScript will access the global variable and display the value of the cookie.</p>
        <p>Click the button below to visit the attacker page and see the result.</p>
    </div>

    <div class="d-flex justify-content-around pb-3">
        <a href="/attacker" class="btn btn-primary btn-lg" target="_blank">Attacker Page</a>
    </div>

    <footer class="mt-3 text-center">
        <p>Made by wijen</p>
    </footer>
</body>
</html>
